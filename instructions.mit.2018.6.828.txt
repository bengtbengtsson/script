#!/bin/sh

#Install fresh Ubuntu 16.04 32 bit

#Install VirtualBox Guest Additions

#Create projectdirs
cd
mkdir $HOME/6.828.2018
cd 6.828.2018

sudo apt update
sudo apt upgrade -y

#Install git
sudo apt install git -y

#Install for tool chain build
sudo apt install m4 libncurses5-dev -y
sudo apt install libsdl1.2-dev libtool-bin libglib2.0-dev libz-dev libpixman-1-dev -y
sudo apt install libpng16-16 -y
sudo ldconfig

#Generate new key
#ssh-keygen -t rsa -b 4096 -C bengt.bengtsson@gmail.com
#eval "$(ssh-agent -s)"
#ssh-add ~/.ssh/id_rsa
#Update github with the new key
#sudo apt install xclip -y
#xclip -sel clip < ~/.ssh/id_rsa.pub
#Update with the new key at github settings
#git configure --global user.email bengt.bengtsson@gmail.com
#git configure --global user.name "Bengt Bengtsson"

#Download from mit
#git clone https://pdos.csail.mit.edu/6.828/2018/jos.git lab

#Download own code
#git clone git@github.com:bengtbengtsson/6.828.git bbn

#Copy build_tools.sh and set_up from "mine" to "mit"
#cp bbn/set_up.sh bbn/build_tools.sh lab
#remove bbn directory
#rm -rf bbn
#Update scripts as needed :-)

#Install for tool chain build
#./build_tools.sh

#Test run
#cd "mit"
#source set_up.sh
#make qemu-nox (should not crash)